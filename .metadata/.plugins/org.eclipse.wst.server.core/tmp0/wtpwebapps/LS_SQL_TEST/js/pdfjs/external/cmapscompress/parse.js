exports.parseAdobeCMap=function(e){var t=/(\bbegincmap\b[\s\S]*?)\bendcmap\b/.exec(e);if(!t){throw new Error("cmap was not found")}var n=t[1].replace(/\r\n?/g,"\n");var r={type:1,wmode:0,comment:"Copyright 1990-2009 Adobe Systems Incorporated.\nAll rights reserved.\nSee ./LICENSE",usecmap:null,body:[]};t=/\/CMapType\s+(\d+)+\s+def\b/.exec(n);r.type=+t[1];t=/\/WMode\s+(\d+)+\s+def\b/.exec(n);r.wmode=+t[1];t=/\/([\w\-]+)\s+usecmap\b/.exec(n);if(t){r.usecmap=t[1]}var i=/(\d+)\s+(begincodespacerange|beginnotdefrange|begincidchar|begincidrange|beginbfchar|beginbfrange)\n([\s\S]*?)\n(endcodespacerange|endnotdefrange|endcidchar|endcidrange|endbfchar|endbfrange)/g;while(t=i.exec(n)){var s=t[3].toLowerCase().split("\n");var o;switch(t[2]){case"begincodespacerange":r.body.push({type:0,items:s.map(function(e){var t=/<(\w+)>\s+<(\w+)>/.exec(e);return{start:t[1],end:t[2]}})});break;case"beginnotdefrange":r.body.push({type:1,items:s.map(function(e){var t=/<(\w+)>\s+<(\w+)>\s+(\d+)/.exec(e);return{start:t[1],end:t[2],code:+t[3]}})});break;case"begincidchar":r.body.push({type:2,items:s.map(function(e){var t=/<(\w+)>\s+(\d+)/.exec(e);return{"char":t[1],code:+t[2]}})});break;case"begincidrange":r.body.push({type:3,items:s.map(function(e){var t=/<(\w+)>\s+<(\w+)>\s+(\d+)/.exec(e);return{start:t[1],end:t[2],code:+t[3]}})});break;case"beginbfchar":r.body.push({type:4,items:s.map(function(e){var t=/<(\w+)>\s+<(\w+)>/.exec(e);return{"char":t[1],code:t[2]}})});break;case"beginbfrange":r.body.push({type:5,items:s.map(function(e){var t=/<(\w+)>\s+<(\w+)>\s+<(\w+)>/.exec(e);return{start:t[1],end:t[2],code:t[3]}})});break}}return r}