(function(){"use strict";function r(e,r,s){function h(){n[c]=s;chrome.tabs.executeScript(e,{code:"("+i+")("+"window,"+JSON.stringify(c)+","+o+","+JSON.stringify(a)+")",allFrames:true,runAt:"document_start"},function(e){if(e){s.timer=setTimeout(p,t)}else{delete n[c];s()}})}function p(){var t=n[c];if(!t){return}delete n[c];var r="Failed to execute script: Frame "+o+" not found in tab "+e;console.error("executeScript: "+r);chrome.runtime.lastError=chrome.extension.lastError={message:r};try{t()}finally{chrome.runtime.lastError=chrome.extension.lastError=undefined}}console.assert(typeof r==="object","details must be an object (argument 0)");var o=r.frameId;console.assert(typeof e==="number","details.tabId must be a number");console.assert(typeof o==="number","details.frameId must be a number");var u="code"in r?"code":"file";console.assert(u in r,"No source code or file specified");var a=r[u];console.assert(typeof a==="string","details."+u+" must be a string");var f=r.runAt;if(!s){s=function(){}}console.assert(typeof s==="function","callback must be a function");if(o===0){var l={allFrames:false,runAt:f};l[u]=a;chrome.tabs.executeScript(e,l,s);return}var c=Math.random().toString(36);if(u==="code"){h()}else{(function(){var e=new XMLHttpRequest;e.open("GET",chrome.extension.getURL(a),true);e.onload=function(){a=e.responseText;h()};e.onerror=function(){var t='Failed to load file: "'+a+'".';console.error("executeScript: "+t);chrome.runtime.lastError=chrome.extension.lastError={message:t};try{s()}finally{chrome.runtime.lastError=chrome.extension.lastError=undefined}};e.send()})()}}chrome.tabs.executeScriptInFrame=r;var e=chrome.extension.getURL("getFrameId");var t=1e3;var n={};chrome.webRequest.onBeforeRequest.addListener(function(t){var n=t.frameId+1;var r=String.fromCharCode(n&255,n>>8&255);var i=String.fromCharCode((n>>16)+1,0);var s="data:image/gif;base64,"+btoa("GIF89a"+r+i+"\0"+"ÿ"+"\0"+","+"\0\0\0\0"+r+i+"\0"+"D\0"+";");return{redirectUrl:s}},{urls:[e+"*"],types:["image"]},["blocking"]);chrome.runtime.onMessage.addListener(function(e,t,r){if(e&&e.executeScriptCallback){var i=n[e.identifier];if(i){if(e.hello){clearTimeout(i.timer);return}delete n[e.identifier];i([e.evalResult])}else{console.warn("Callback not found for response in tab "+t.tab.id)}}});var i=""+function s(e,t,n,r){function f(){if(e.__executeScript_frameId__!==n){return}chrome.runtime.sendMessage({executeScriptCallback:true,hello:true,identifier:t});var i=null;try{i=e.eval(r)}finally{chrome.runtime.sendMessage({executeScriptCallback:true,evalResult:i,identifier:t})}}var i;if("__executeScript_frameId__"in e){f()}else{i=e.document.createElement("img");i.onload=function(){e.__executeScript_frameId__=this.naturalWidth-1+(this.naturalHeight-1<<16);f()};i.src="URL_WHAT_IS_MY_FRAME_ID?"+Math.random().toString(36).slice(-6)}for(i=0;i<e.frames.length;++i){try{var o=e.frames[i];var u=o.location.protocol;if(u!=="https:"&&u!=="http:"&&u!=="file:"){s(o,t,n,r)}}catch(a){}}}.toString().replace("URL_WHAT_IS_MY_FRAME_ID",e)})()